<view class="page">
  <!-- èƒŒæ™¯æ¸å˜ -->
  <view class="bg-conic"></view>

  <!-- åˆ†åŒºä¸€ï¼šæ¨èçš„ç›®çš„åœ°ï¼ˆæ¨ªå‘æ»‘åŠ¨ï¼‰ -->
  <text class="main-title">æ¨èçš„ç›®çš„åœ°</text>
  <scroll-view class="hscroll" scroll-x="true" show-scrollbar="false">
    <view class="htrack">
      <view class="card" tt:for="{{recoList}}" tt:key="id">
        <view class="pic">
          <image tt:if="{{item.cover}}" class="reco-cover" src="{{item.cover}}" mode="aspectFill" lazy-load="true"></image>
          <view tt:else class="pic-placeholder">
            <text>æš‚æ— å›¾ç‰‡</text>
          </view>
        </view>
        <view class="card-body">
          <view class="row">
            <text class="name">{{item.name}}</text>
            <image
              class="icon-like"
              src="{{ item.liked ? '/assets/tab/like-fill.png' : '/assets/tab/like.png' }}"
              mode="widthFix"
              data-idx="{{index}}"
              data-list-name="recoList"
              bindtap="toggleLike"
            />
          </view>
          <!-- ã€ä¼˜åŒ–ã€‘å¯ä»¥å¢åŠ ä¸€ä¸ªæ¨èç†ç”±çš„æ˜¾ç¤ºåŒºåŸŸ -->
          <text tt:if="{{item.reason}}" class="reason">ğŸ’¡ {{item.reason}}</text>
          <text class="meta">Â· å…¬å…±äº¤é€š{{item.transit}}min</text>
          <text class="meta">Â· é©¾è½¦{{item.drive}}min</text>
          <text class="meta">Â· äººå‡ï¿¥{{item.price}}</text>
        </view>
      </view>
    </view>
  
  </scroll-view>
  <view class="chat-input-container {{isGenerating ? 'disabled' : ''}}">
    <input 
      class="chat-input"
      type="text"
      placeholder="ä¸æ»¡æ„ï¼Ÿå¯ä»¥è¯´å‡ºä½ çš„æƒ³æ³•..."
      value="{{userInput}}"
      bindinput="onInput"
      confirm-type="send"
      bindconfirm="refineRecommendations"
      disabled="{{isGenerating}}"
    />
    <button 
      class="send-button"
      type="primary"
      size="mini"
      bindtap="refineRecommendations"
      loading="{{isGenerating}}">
      å‘é€
    </button>

  </view>
  <!-- åˆ†åŒºäºŒï¼šç›¸ä¼¼é«˜åˆ†æ–¹æ¡ˆæ¨èï¼ˆæ¨ªå‘æ»‘åŠ¨ï¼‰ -->
  <text class="section-title">ç›¸ä¼¼é«˜åˆ†æ–¹æ¡ˆæ¨è</text>
  <scroll-view class="hscroll" scroll-x="true" show-scrollbar="false">
    <view class="htrack">
      <view class="card" tt:for="{{similarList}}" tt:key="id">
        <view class="pic">
          <image tt:if="{{item.cover}}" class="pic-img" src="{{item.cover}}" mode="aspectFill" lazy-load="true" />
          <view tt:else class="pic-placeholder">
            <text>æš‚æ— å›¾ç‰‡</text>
          </view>
        </view>
        <view class="card-body">
          <view class="row">
            <text class="name">{{item.name}}</text>
            <image
              class="icon-like"
              src="{{ item.liked ? '/assets/tab/like-fill.png' : '/assets/tab/like.png' }}"
              mode="widthFix"
              data-idx="{{index}}"
              data-list-name="similarList"
              bindtap="toggleLike"
            />
          </view>
          <text class="meta">Â· å…¬å…±äº¤é€š{{item.transit}}min</text>
          <text class="meta">Â· é©¾è½¦{{item.drive}}min</text>
          <text class="meta">Â· äººå‡ï¿¥{{item.price}}</text>
        </view>
      </view>
    </view>
  </scroll-view>

  <!-- 
    ========================================================
             â†“â†“â†“ ã€æ ¸å¿ƒæ–°å¢ã€‘å¤šè½®å¯¹è¯è¾“å…¥åŒºåŸŸ â†“â†“â†“
    ========================================================
  -->

  <!-- ä¸ºäº†é˜²æ­¢è¾“å…¥æ¡†é®æŒ¡åº•éƒ¨å†…å®¹ï¼Œå¢åŠ ä¸€ä¸ªå ä½ç¬¦ -->
  <view class="input-placeholder"></view>

</view>